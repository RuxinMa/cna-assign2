=== TEST: test4_high_corruption ===
Number of messages: 10
Loss probability: 0.0
Corruption probability: 0.5
Direction (0=A->B, 1=A<-B, 2=both): 0
Average message interval: 10.0
Trace level: 2
===============================

-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: Enter  packet loss probability [enter 0.0 for no loss]:Enter packet corruption probability [0.0 for no corruption]:If you want loss or corruption to only occur in one direction, choose the direction: 0 A->B, 1 A<-B, 2 A<->B (both directions) :Enter average time between messages from sender's layer5 [ > 0.0]:Enter TRACE:
EVENT time: 6.965711,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 0 to layer 3
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 6.965711

EVENT time: 12.374607,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 14.585057,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 19.661861,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 1 to layer 3
          TOLAYER3: packet being corrupted

EVENT time: 22.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 22.965710

EVENT time: 27.956409,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 29.111105,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 35.720585,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 2 to layer 3
          TOLAYER3: packet being corrupted

EVENT time: 37.509491,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 38.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 38.965710

EVENT time: 43.352440,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 47.234783,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 48.950279,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 3 to layer 3

EVENT time: 49.003384,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 4 to layer 3
          TOLAYER3: packet being corrupted

EVENT time: 50.055988,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 54.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          START TIMER: starting timer at 54.965710

EVENT time: 55.383602,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 55.903595,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 5 to layer 3
          TOLAYER3: packet being corrupted

EVENT time: 56.743317,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 62.064003,  type: 2, fromlayer3  entity: 1
----B: packet 3 is correctly received, send ACK!

EVENT time: 63.902287,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is full

EVENT time: 65.347008,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 68.357384,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate

EVENT time: 68.614685,  type: 2, fromlayer3  entity: 1
----B: packet 0 is correctly received, send ACK!

EVENT time: 70.965714,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          START TIMER: starting timer at 70.965714

EVENT time: 72.060242,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate

EVENT time: 72.473473,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is full

EVENT time: 75.052849,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
          STOP TIMER: stopping timer at 75.052849
          START TIMER: starting timer at 75.052849

EVENT time: 77.542671,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 79.991272,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 6 to layer 3
          TOLAYER3: packet being corrupted

EVENT time: 82.718437,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is full

EVENT time: 84.729492,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 86.232140,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 90.107910,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 91.052849,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 91.052849

EVENT time: 92.105919,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 95.926247,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 100.822113,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 102.029564,  type: 1, fromlayer5  entity: 0

EVENT time: 107.052849,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 107.052849

EVENT time: 107.360123,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 115.646248,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 117.878395,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 123.052849,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 123.052849

EVENT time: 133.001465,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 137.176620,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 139.052856,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 139.052856

EVENT time: 146.928757,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 155.052856,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          START TIMER: starting timer at 155.052856

EVENT time: 155.409378,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate

EVENT time: 160.232285,  type: 2, fromlayer3  entity: 1
----B: packet 1 is correctly received, send ACK!

EVENT time: 163.801208,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
          STOP TIMER: stopping timer at 163.801208
          START TIMER: starting timer at 163.801208

EVENT time: 179.801208,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 2
          TOLAYER3: packet being corrupted
          START TIMER: starting timer at 179.801208

EVENT time: 180.847260,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 185.108887,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate

EVENT time: 195.801208,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 2
          START TIMER: starting timer at 195.801208

EVENT time: 199.932159,  type: 2, fromlayer3  entity: 1
----B: packet 2 is correctly received, send ACK!

EVENT time: 209.492508,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
          STOP TIMER: stopping timer at 209.492508
          START TIMER: starting timer at 209.492508

EVENT time: 225.492508,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 4
          START TIMER: starting timer at 225.492508

EVENT time: 233.758560,  type: 2, fromlayer3  entity: 1
----B: packet 4 is correctly received, send ACK!

EVENT time: 241.492508,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 4
          START TIMER: starting timer at 241.492508

EVENT time: 243.106064,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
          STOP TIMER: stopping timer at 243.106064

EVENT time: 244.104202,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 250.140366,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 outside window, do nothing!
 Simulator terminated at time 250.140366
 after attempting to send 10 msgs from layer5
number of messages dropped due to full window:  3 
number of valid (not corrupt or duplicate) acknowledgements received at A:  7 
(note: a single acknowledgement may have acknowledged more than one packet - if cumulative acknowledgements are used)
number of packet resends by A:  13 
number of correct packets received at B:  5 
number of messages delivered to application:  5 
