=== TEST: test9_long_term ===
Number of messages: 50
Loss probability: 0.1
Corruption probability: 0.1
Direction (0=A->B, 1=A<-B, 2=both): 0
Average message interval: 10.0
Trace level: 1
===============================

-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: Enter  packet loss probability [enter 0.0 for no loss]:Enter packet corruption probability [0.0 for no corruption]:If you want loss or corruption to only occur in one direction, choose the direction: 0 A->B, 1 A<-B, 2 A<->B (both directions) :Enter average time between messages from sender's layer5 [ > 0.0]:Enter TRACE:Sending packet 0 to layer 3
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
Sending packet 1 to layer 3
Sending packet 2 to layer 3
Sending packet 3 to layer 3
Sending packet 4 to layer 3
          TOLAYER3: packet being lost
----A: time out,resend packets!
---A: resending packet 1
---A: resending packet 2
---A: resending packet 3
          TOLAYER3: packet being lost
---A: resending packet 4
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
Sending packet 5 to layer 3
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
Sending packet 6 to layer 3
          TOLAYER3: packet being corrupted
----A: time out,resend packets!
---A: resending packet 4
---A: resending packet 5
---A: resending packet 6
          TOLAYER3: packet being lost
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
Sending packet 7 to layer 3
Sending packet 8 to layer 3
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
Sending packet 9 to layer 3
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
----A: time out,resend packets!
---A: resending packet 6
---A: resending packet 7
          TOLAYER3: packet being lost
---A: resending packet 8
---A: resending packet 9
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
Sending packet 10 to layer 3
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
----A: time out,resend packets!
---A: resending packet 6
---A: resending packet 9
---A: resending packet 10
          TOLAYER3: packet being corrupted
Sending packet 11 to layer 3
          TOLAYER3: packet being corrupted
----A: New message arrives, send window is full
----A: uncorrupted ACK 9 is received
----A: ACK 9 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 outside window, do nothing!
Sending packet 0 to layer 3
----A: time out,resend packets!
---A: resending packet 10
---A: resending packet 11
---A: resending packet 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 outside window, do nothing!
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
Sending packet 1 to layer 3
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
Sending packet 2 to layer 3
          TOLAYER3: packet being lost
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: time out,resend packets!
---A: resending packet 11
---A: resending packet 0
---A: resending packet 1
---A: resending packet 2
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
Sending packet 3 to layer 3
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
----A: uncorrupted ACK 11 is received
----A: ACK 11 outside window, do nothing!
Sending packet 4 to layer 3
Sending packet 5 to layer 3
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
Sending packet 6 to layer 3
----A: time out,resend packets!
---A: resending packet 2
---A: resending packet 3
---A: resending packet 4
          TOLAYER3: packet being lost
---A: resending packet 5
---A: resending packet 6
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
Sending packet 7 to layer 3
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
Sending packet 8 to layer 3
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
Sending packet 9 to layer 3
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
Sending packet 10 to layer 3
Sending packet 11 to layer 3
----A: time out,resend packets!
---A: resending packet 7
          TOLAYER3: packet being lost
---A: resending packet 8
---A: resending packet 9
          TOLAYER3: packet being corrupted
---A: resending packet 10
---A: resending packet 11
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
----A: uncorrupted ACK 9 is received
----A: ACK 9 is not a duplicate
Sending packet 0 to layer 3
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
Sending packet 1 to layer 3
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
Sending packet 2 to layer 3
          TOLAYER3: packet being corrupted
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
----A: time out,resend packets!
---A: resending packet 0
---A: resending packet 1
---A: resending packet 2
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
Sending packet 3 to layer 3
          TOLAYER3: packet being corrupted
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
Sending packet 4 to layer 3
----A: time out,resend packets!
---A: resending packet 2
---A: resending packet 3
---A: resending packet 4
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
Sending packet 5 to layer 3
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
Sending packet 6 to layer 3
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
Sending packet 7 to layer 3
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: time out,resend packets!
---A: resending packet 3
---A: resending packet 5
---A: resending packet 6
---A: resending packet 7
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
Sending packet 8 to layer 3
----A: uncorrupted ACK 3 is received
----A: ACK 3 outside window, do nothing!
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
Sending packet 9 to layer 3
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
Sending packet 10 to layer 3
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: time out,resend packets!
---A: resending packet 8
---A: resending packet 9
---A: resending packet 10
Sending packet 11 to layer 3
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
Sending packet 0 to layer 3
          TOLAYER3: packet being lost
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
Sending packet 1 to layer 3
----A: uncorrupted ACK 9 is received
----A: ACK 9 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
Sending packet 2 to layer 3
          TOLAYER3: packet being corrupted
Sending packet 3 to layer 3
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: time out,resend packets!
---A: resending packet 11
---A: resending packet 0
---A: resending packet 1
---A: resending packet 2
---A: resending packet 3
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
Sending packet 4 to layer 3
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
----A: time out,resend packets!
---A: resending packet 0
          TOLAYER3: packet being corrupted
---A: resending packet 2
---A: resending packet 4
Sending packet 5 to layer 3
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 outside window, do nothing!
Sending packet 6 to layer 3
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
----A: uncorrupted ACK 2 is received
----A: ACK 2 outside window, do nothing!
Sending packet 7 to layer 3
          TOLAYER3: packet being lost
Sending packet 8 to layer 3
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
Sending packet 9 to layer 3
Sending packet 10 to layer 3
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
----A: time out,resend packets!
---A: resending packet 5
---A: resending packet 6
          TOLAYER3: packet being corrupted
---A: resending packet 7
---A: resending packet 8
---A: resending packet 9
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
Sending packet 11 to layer 3
          TOLAYER3: packet being corrupted
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
Sending packet 0 to layer 3
          TOLAYER3: packet being corrupted
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
----A: uncorrupted ACK 9 is received
----A: ACK 9 is not a duplicate
----A: time out,resend packets!
---A: resending packet 7
          TOLAYER3: packet being lost
---A: resending packet 11
---A: resending packet 0
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: uncorrupted ACK 10 is received
----A: ACK 10 is not a duplicate
----A: time out,resend packets!
---A: resending packet 7
---A: resending packet 11
---A: resending packet 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
----A: uncorrupted ACK 7 is received
----A: ACK 7 outside window, do nothing!
----A: uncorrupted ACK 7 is received
----A: ACK 7 outside window, do nothing!
----A: time out,resend packets!
---A: resending packet 11
---A: resending packet 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 outside window, do nothing!
----A: uncorrupted ACK 7 is received
----A: ACK 7 outside window, do nothing!
----A: uncorrupted ACK 11 is received
----A: ACK 11 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
 Simulator terminated at time 606.673401
 after attempting to send 50 msgs from layer5
number of messages dropped due to full window:  1 
number of valid (not corrupt or duplicate) acknowledgements received at A:  49 
(note: a single acknowledgement may have acknowledged more than one packet - if cumulative acknowledgements are used)
number of packet resends by A:  65 
number of correct packets received at B:  49 
number of messages delivered to application:  49 
