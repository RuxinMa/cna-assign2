=== TEST: test2_loss ===
Number of messages: 10
Loss probability: 0.3
Corruption probability: 0.0
Direction (0=A->B, 1=A<-B, 2=both): 0
Average message interval: 10.0
Trace level: 2
===============================

-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: Enter  packet loss probability [enter 0.0 for no loss]:Enter packet corruption probability [0.0 for no corruption]:If you want loss or corruption to only occur in one direction, choose the direction: 0 A->B, 1 A<-B, 2 A<->B (both directions) :Enter average time between messages from sender's layer5 [ > 0.0]:Enter TRACE:
EVENT time: 6.965711,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 0 to layer 3
          TOLAYER3: packet being lost

EVENT time: 19.661861,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 1 to layer 3

EVENT time: 25.912577,  type: 2, fromlayer3  entity: 1
----B: packet 1 is not corrupted
----B: packet 1 accepted and buffered

EVENT time: 29.459408,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 2 to layer 3

EVENT time: 30.953823,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is new, marked as ACKED
          STOP TIMER: stopping timer at 30.953823
Warning: unable to cancel your timer. It wasn't running.
          START TIMER: starting timer at 30.953823

EVENT time: 31.919674,  type: 2, fromlayer3  entity: 1
----B: packet 2 is not corrupted
----B: packet 2 accepted and buffered

EVENT time: 41.472755,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 2 is received
----A: ACK 2 is new, marked as ACKED
          STOP TIMER: stopping timer at 41.472755
          START TIMER: starting timer at 41.472755

EVENT time: 48.410809,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 3 to layer 3

EVENT time: 49.565502,  type: 2, fromlayer3  entity: 1
----B: packet 3 is not corrupted
----B: packet 3 accepted and buffered

EVENT time: 55.735119,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 3 is received
----A: ACK 3 is new, marked as ACKED
          STOP TIMER: stopping timer at 55.735119
          START TIMER: starting timer at 55.735119

EVENT time: 67.940651,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 4 to layer 3

EVENT time: 67.971107,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 5 to layer 3

EVENT time: 71.735123,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0 (retransmission 1)
---A: resending packet 4 (retransmission 1)
---A: resending packet 5 (retransmission 1)
          START TIMER: starting timer at 71.735123

EVENT time: 75.457863,  type: 2, fromlayer3  entity: 1
----B: packet 4 is not corrupted
----B: packet 4 accepted and buffered

EVENT time: 78.740868,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 is new, marked as ACKED
          STOP TIMER: stopping timer at 78.740868
          START TIMER: starting timer at 78.740868

EVENT time: 83.606682,  type: 2, fromlayer3  entity: 1
----B: packet 5 is not corrupted
----B: packet 5 accepted and buffered

EVENT time: 86.011948,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 5 is received
----A: ACK 5 is new, marked as ACKED
          STOP TIMER: stopping timer at 86.011948
          START TIMER: starting timer at 86.011948

EVENT time: 86.750961,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is full

EVENT time: 89.558479,  type: 2, fromlayer3  entity: 1
----B: packet 0 is not corrupted
----B: packet 0 accepted and buffered
----B: delivered packet to layer 5, window moves to 1
----B: delivered packet to layer 5, window moves to 2
----B: delivered packet to layer 5, window moves to 3
----B: delivered packet to layer 5, window moves to 4
----B: delivered packet to layer 5, window moves to 5
----B: delivered packet to layer 5, window moves to 6

EVENT time: 90.582375,  type: 2, fromlayer3  entity: 1
----B: packet 4 is not corrupted
----B: packet 4 outside window
----B: duplicate packet, sending ACK 4

EVENT time: 90.918198,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is new, marked as ACKED
----A: Window slides to 1
----A: Window slides to 2
----A: Window slides to 3
----A: Window slides to 4
----A: Window slides to 5
----A: Window slides to 6
          STOP TIMER: stopping timer at 90.918198

EVENT time: 98.225151,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: duplicate ACK for packet before window, ignoring

EVENT time: 99.049446,  type: 2, fromlayer3  entity: 1
----B: packet 5 is not corrupted
----B: packet 5 outside window
----B: duplicate packet, sending ACK 5

EVENT time: 101.902588,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 6 to layer 3
          TOLAYER3: packet being lost

EVENT time: 108.720055,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 5 is received
----A: duplicate ACK received, do nothing!

EVENT time: 113.665665,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 7 to layer 3

EVENT time: 117.368523,  type: 2, fromlayer3  entity: 1
----B: packet 7 is not corrupted
----B: packet 7 accepted and buffered

EVENT time: 120.361130,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is new, marked as ACKED
          STOP TIMER: stopping timer at 120.361130
Warning: unable to cancel your timer. It wasn't running.
          START TIMER: starting timer at 120.361130

EVENT time: 122.236855,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 8 to layer 3

EVENT time: 122.579399,  type: 1, fromlayer5  entity: 0

EVENT time: 129.185287,  type: 2, fromlayer3  entity: 1
----B: packet 8 is not corrupted
----B: packet 8 accepted and buffered

EVENT time: 136.361130,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 6 (retransmission 1)
          TOLAYER3: packet being lost
---A: resending packet 8 (retransmission 1)
          START TIMER: starting timer at 136.361130

EVENT time: 136.372101,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is new, marked as ACKED
          STOP TIMER: stopping timer at 136.372101
          START TIMER: starting timer at 136.372101

EVENT time: 140.236893,  type: 2, fromlayer3  entity: 1
----B: packet 8 is not corrupted
----B: duplicate packet 8 received, already buffered

EVENT time: 149.926895,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: duplicate ACK received, do nothing!

EVENT time: 152.372101,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 6 (retransmission 2)
          START TIMER: starting timer at 152.372101

EVENT time: 158.041901,  type: 2, fromlayer3  entity: 1
----B: packet 6 is not corrupted
----B: packet 6 accepted and buffered
----B: delivered packet to layer 5, window moves to 7
----B: delivered packet to layer 5, window moves to 8
----B: delivered packet to layer 5, window moves to 9

EVENT time: 166.283524,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is new, marked as ACKED
----A: Window slides to 7
----A: Window slides to 8
----A: Window slides to 9
          STOP TIMER: stopping timer at 166.283524
 Simulator terminated at time 166.283524
 after attempting to send 10 msgs from layer5
number of messages dropped due to full window:  1 
number of valid (not corrupt or duplicate) acknowledgements received at A:  9 
(note: a single acknowledgement may have acknowledged more than one packet - if cumulative acknowledgements are used)
number of packet resends by A:  6 
number of correct packets received at B:  9 
number of messages delivered to application:  9 
