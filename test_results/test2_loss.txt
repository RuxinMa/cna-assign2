=== TEST: test2_loss ===
Number of messages: 10
Loss probability: 0.3
Corruption probability: 0.0
Direction (0=A->B, 1=A<-B, 2=both): 0
Average message interval: 10.0
Trace level: 2
===============================

-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: Enter  packet loss probability [enter 0.0 for no loss]:Enter packet corruption probability [0.0 for no corruption]:If you want loss or corruption to only occur in one direction, choose the direction: 0 A->B, 1 A<-B, 2 A<->B (both directions) :Enter average time between messages from sender's layer5 [ > 0.0]:Enter TRACE:
EVENT time: 6.965711,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 0 to layer 3
          TOLAYER3: packet being lost
          START TIMER: starting timer at 6.965711

EVENT time: 19.661861,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 1 to layer 3

EVENT time: 22.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          TOLAYER3: packet being lost
          START TIMER: starting timer at 22.965710
---A: resending packet 1

EVENT time: 25.912577,  type: 2, fromlayer3  entity: 1
----B: packet 1 is correctly received, send ACK!

EVENT time: 28.372843,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate

EVENT time: 29.459408,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 2 to layer 3

EVENT time: 34.139004,  type: 2, fromlayer3  entity: 1
----B: packet 1 is correctly received, send ACK!

EVENT time: 35.293697,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate

EVENT time: 38.758911,  type: 2, fromlayer3  entity: 1
----B: packet 2 is correctly received, send ACK!

EVENT time: 38.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          TOLAYER3: packet being lost
          START TIMER: starting timer at 38.965710
---A: resending packet 2

EVENT time: 44.928528,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate

EVENT time: 45.685921,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 3 to layer 3

EVENT time: 46.482925,  type: 2, fromlayer3  entity: 1
----B: packet 2 is correctly received, send ACK!

EVENT time: 52.434719,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate

EVENT time: 54.631744,  type: 2, fromlayer3  entity: 1
----B: packet 3 is correctly received, send ACK!

EVENT time: 54.965710,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 0
          START TIMER: starting timer at 54.965710
---A: resending packet 3

EVENT time: 55.655640,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 3 is received
----A: ACK 3 is not a duplicate

EVENT time: 63.432785,  type: 2, fromlayer3  entity: 1
----B: packet 0 is correctly received, send ACK!

EVENT time: 64.465775,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 4 to layer 3

EVENT time: 65.838051,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
          STOP TIMER: stopping timer at 65.838051
          START TIMER: starting timer at 65.838051

EVENT time: 66.715790,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 68.075508,  type: 2, fromlayer3  entity: 1
----B: packet 4 is correctly received, send ACK!

EVENT time: 74.022743,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 outside window, do nothing!

EVENT time: 79.617401,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 5 to layer 3
          TOLAYER3: packet being lost

EVENT time: 81.838051,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 4
          START TIMER: starting timer at 81.838051
---A: resending packet 5

EVENT time: 83.693352,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate
          STOP TIMER: stopping timer at 83.693352
          START TIMER: starting timer at 83.693352

EVENT time: 90.011650,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 91.165794,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate

EVENT time: 91.331993,  type: 2, fromlayer3  entity: 1
----B: packet 5 is correctly received, send ACK!

EVENT time: 91.380478,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 6 to layer 3

EVENT time: 93.607704,  type: 2, fromlayer3  entity: 1
----B: packet 6 is correctly received, send ACK!

EVENT time: 95.715004,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate
          STOP TIMER: stopping timer at 95.715004
          START TIMER: starting timer at 95.715004

EVENT time: 99.749153,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate
          STOP TIMER: stopping timer at 99.749153

EVENT time: 105.128967,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 7 to layer 3
          TOLAYER3: packet being lost
          START TIMER: starting timer at 105.128967

EVENT time: 121.128967,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 7
          START TIMER: starting timer at 121.128967

EVENT time: 124.440094,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 8 to layer 3

EVENT time: 126.798775,  type: 2, fromlayer3  entity: 1
----B: packet 7 is correctly received, send ACK!

EVENT time: 130.707489,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 9 to layer 3

EVENT time: 130.711304,  type: 2, fromlayer3  entity: 1
----B: packet 8 is correctly received, send ACK!

EVENT time: 131.168289,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate
          STOP TIMER: stopping timer at 131.168289
          START TIMER: starting timer at 131.168289

EVENT time: 134.120712,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
          STOP TIMER: stopping timer at 134.120712
          START TIMER: starting timer at 134.120712

EVENT time: 138.405930,  type: 2, fromlayer3  entity: 1
----B: packet 9 is correctly received, send ACK!

EVENT time: 143.014175,  type: 1, fromlayer5  entity: 0

EVENT time: 148.108032,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 9 is received
----A: ACK 9 is not a duplicate
          STOP TIMER: stopping timer at 148.108032
 Simulator terminated at time 148.108032
 after attempting to send 10 msgs from layer5
number of messages dropped due to full window:  0 
number of valid (not corrupt or duplicate) acknowledgements received at A:  10 
(note: a single acknowledgement may have acknowledged more than one packet - if cumulative acknowledgements are used)
number of packet resends by A:  9 
number of correct packets received at B:  10 
number of messages delivered to application:  10 
