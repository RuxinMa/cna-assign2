=== TEST: test6_ack_loss ===
Number of messages: 10
Loss probability: 0.3
Corruption probability: 0.0
Direction (0=A->B, 1=A<-B, 2=both): 1
Average message interval: 10.0
Trace level: 2
===============================

-----  Stop and Wait Network Simulator Version 1.1 -------- 

Enter the number of messages to simulate: Enter  packet loss probability [enter 0.0 for no loss]:Enter packet corruption probability [0.0 for no corruption]:If you want loss or corruption to only occur in one direction, choose the direction: 0 A->B, 1 A<-B, 2 A<->B (both directions) :Enter average time between messages from sender's layer5 [ > 0.0]:Enter TRACE:
EVENT time: 6.965711,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 0 to layer 3
          START TIMER: starting timer at 6.965711

EVENT time: 12.374607,  type: 2, fromlayer3  entity: 1
----B: packet 0 is correctly received, send ACK!

EVENT time: 17.132755,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 0 is received
----A: ACK 0 is not a duplicate
          STOP TIMER: stopping timer at 17.132755

EVENT time: 19.661861,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 1 to layer 3
          START TIMER: starting timer at 19.661861

EVENT time: 28.642408,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 2 to layer 3

EVENT time: 29.189993,  type: 2, fromlayer3  entity: 1
----B: packet 1 is correctly received, send ACK!

EVENT time: 31.887445,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 3 to layer 3

EVENT time: 32.231213,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 4 to layer 3

EVENT time: 35.661861,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 1
          START TIMER: starting timer at 35.661861
---A: resending packet 2
---A: resending packet 3
---A: resending packet 4

EVENT time: 37.491924,  type: 2, fromlayer3  entity: 1
----B: packet 2 is correctly received, send ACK!

EVENT time: 38.978420,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 1 is received
----A: ACK 1 is not a duplicate
          STOP TIMER: stopping timer at 38.978420
          START TIMER: starting timer at 38.978420

EVENT time: 43.083515,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 2 is received
----A: ACK 2 is not a duplicate
          STOP TIMER: stopping timer at 43.083515
          START TIMER: starting timer at 43.083515

EVENT time: 44.445286,  type: 2, fromlayer3  entity: 1
----B: packet 3 is correctly received, send ACK!
          TOLAYER3: packet being lost

EVENT time: 50.777023,  type: 2, fromlayer3  entity: 1
----B: packet 4 is correctly received, send ACK!

EVENT time: 51.620754,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 5 to layer 3

EVENT time: 56.660034,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 6 to layer 3

EVENT time: 58.265118,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 4 is received
----A: ACK 4 is not a duplicate

EVENT time: 59.083515,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 59.083515
---A: resending packet 5
---A: resending packet 6

EVENT time: 60.227959,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 61.444790,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 64.265991,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 70.890594,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 71.639984,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 7 to layer 3

EVENT time: 75.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 75.083511
---A: resending packet 5
---A: resending packet 6
---A: resending packet 7

EVENT time: 77.904716,  type: 2, fromlayer3  entity: 1
----B: packet 5 is correctly received, send ACK!

EVENT time: 85.211670,  type: 2, fromlayer3  entity: 1
----B: packet 6 is correctly received, send ACK!

EVENT time: 86.146339,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 5 is received
----A: ACK 5 is not a duplicate

EVENT time: 88.155403,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate

EVENT time: 88.727699,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is not full, send new messge to layer3!
Sending packet 8 to layer 3

EVENT time: 91.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 91.083511
---A: resending packet 7
---A: resending packet 8

EVENT time: 94.882278,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 96.441887,  type: 1, fromlayer5  entity: 0
----A: New message arrives, send window is full

EVENT time: 96.773033,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 100.475891,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 104.105469,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate

EVENT time: 104.858902,  type: 2, fromlayer3  entity: 1
----B: packet 7 is correctly received, send ACK!

EVENT time: 105.230827,  type: 1, fromlayer5  entity: 0

EVENT time: 107.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 107.083511
---A: resending packet 7
---A: resending packet 8

EVENT time: 110.749619,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 111.981369,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate

EVENT time: 113.751312,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 6 is received
----A: ACK 6 is not a duplicate

EVENT time: 114.625389,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 117.012939,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate

EVENT time: 123.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 123.083511
---A: resending packet 8

EVENT time: 124.315399,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 126.071556,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate

EVENT time: 129.985199,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 134.917038,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate

EVENT time: 139.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 139.083511
---A: resending packet 8

EVENT time: 139.319977,  type: 2, fromlayer3  entity: 1
----B: packet 8 is correctly received, send ACK!

EVENT time: 140.361053,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 7 is received
----A: ACK 7 is not a duplicate

EVENT time: 142.533279,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 144.765427,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 148.265091,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 154.714035,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 155.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 155.083511

EVENT time: 156.519394,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 162.368744,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 168.783096,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 171.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 171.083511

EVENT time: 172.849396,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 178.668472,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 182.525208,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 187.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: resending packet 3
          START TIMER: starting timer at 187.083511

EVENT time: 188.533829,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 190.040527,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 198.108978,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 201.814804,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 203.083511,  type: 0, timerinterrupt   entity: 0
----A: time out,resend packets!
---A: packet 3 reached max retransmissions, marking as ACKED

EVENT time: 204.807434,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 208.296707,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 216.073639,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!
          TOLAYER3: packet being lost

EVENT time: 216.821487,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 221.228165,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 223.703049,  type: 2, fromlayer3  entity: 1
----B: packet corrupted or not expected sequence number, resend ACK!

EVENT time: 225.512436,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate

EVENT time: 230.993118,  type: 2, fromlayer3  entity: 0
----A: uncorrupted ACK 8 is received
----A: ACK 8 is not a duplicate
 Simulator terminated at time 230.993118
 after attempting to send 10 msgs from layer5
number of messages dropped due to full window:  1 
number of valid (not corrupt or duplicate) acknowledgements received at A:  8 
(note: a single acknowledgement may have acknowledged more than one packet - if cumulative acknowledgements are used)
number of packet resends by A:  24 
number of correct packets received at B:  9 
number of messages delivered to application:  9 
